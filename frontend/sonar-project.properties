# frontend/sonar-project.properties

sonar.projectKey=frontend-ui
sonar.projectName=frontend-ui
sonar.sourceEncoding=UTF-8

# --- ВАЖНО: Отключаем интеграцию с Git ---
# В монорепозиториях сканер часто теряет .git папку и думает, что файлы "чужие".
# Это главная причина ошибки "no lines of code".
sonar.scm.disabled=true

# --- Основной код ---
sonar.sources=src
# Исключаем из подсчета "кода" тесты и конфиги
sonar.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/*.d.ts,**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/vite.config.ts

# --- Тесты ---
sonar.tests=src
# Явно говорим, что считать тестами (все остальное в src будет кодом)
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# --- TypeScript ---
# Путь должен быть относительным от папки frontend (так как projectBaseDir установлен)
sonar.typescript.tsconfigPath=tsconfig.json

# --- Покрытие кода ---
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info